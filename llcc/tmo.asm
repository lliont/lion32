ORG 0
_XY EQU $4868
FMEMORG EQU $4864
 MOVR.D (_cmdlbuf),A7
 JRSR __main
 POP A0
 RET

; data Segment
_side:
 DD $40700000
_real:
 DD $bf000000
_imag:
 DD $00000000
; code Segment

_main:
 PUSH A5
 PUSH A6
 PUSH A7
 MOV.D A5,A7
 MOV A7,SP
 MOV.D A6,A7
 SUB.D A6,12
 SUB.D SP,88
 MOV.D A1,A6
 SUBI A1,12
 PUSH A1
 GADR A1,_scrw
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUBI A1,12
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $00000140
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,16
 PUSH A1
 GADR A1,_scrh
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,16
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $000000c8
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_maxiter
 PUSH A1
 PUSH $000000fe
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,20
 PUSH A1
 GADR A1,_aspect
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,24
 PUSH A1
 MOV.D A1,A6
 SUBI A1,12
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A4
 JRSR __itof
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,20
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,24
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,16
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A4
 JRSR __itof
 POP A3
 POP A1
 MOVI A0,10
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUBI A1,8
 PUSH A1
 PUSH $00000008
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_key
 PUSH A1
 PUSH $00000000
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,28
 PUSH A1
 GADR A1,_side
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_dist
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,28
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,24
 PUSH A1
 POP A1
 PUSH (A1)
 POP A3
 POP A1
 MOVI A0,10
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,32
 PUSH A1
 PUSH $40000000
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_re
 PUSH A1
 GADR A1,_real
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,28
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,32
 PUSH A1
 POP A1
 PUSH (A1)
 POP A3
 POP A1
 MOVI A0,10
 INT 5
 PUSH A1
 POP A3
 POP A1
 XOR.D A3,$80000000
 MOVI A0,11
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_im
 PUSH A1
 GADR A1,_imag
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,28
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,20
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A3
 POP A1
 MOVI A0,10
 INT 5
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,32
 PUSH A1
 POP A1
 PUSH (A1)
 POP A3
 POP A1
 MOVI A0,10
 INT 5
 PUSH A1
 POP A3
 POP A1
 XOR.D A3,$80000000
 MOVI A0,11
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 PUSH $00000018
 POP A1
 MOV.D (A7),A1
 PUSH $00000001
 POP A1
 MOV.D -4(A7),A1
 GADR A1,_IOout
 PUSH A1
 POP A1
 MOVR.D (_argnum),2
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 PUSH $00000000
 POP A1
 MOV.D (A7),A1
 PUSH $0000000f
 POP A1
 MOV.D -4(A7),A1
 GADR A1,_Screen
 PUSH A1
 POP A1
 MOVR.D (_argnum),2
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 GADR A1,_Cls
 PUSH A1
 POP A1
 MOVR.D (_argnum),0
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 MOV.D A1,A6
 SUB.D A1,36
 PUSH A1
 GADR A1,_Timer
 PUSH A1
 POP A1
 MOVR.D (_argnum),0
 MOVR.D (_argbs),A7
 JSR A1
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_tim1
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,36
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,40
 PUSH A1
 PUSH $00000000
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_lcolr
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,40
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUBI A1,4
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,40
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_$5
 PUSH A1
 POP A1
 JMP A1
_$2:
 GADR A1,_ci
 PUSH A1
 GADR A1,_im
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUBI A1,4
 PUSH A1
 POP A1
 PUSH (A1)
 POP A4
 JRSR __itof
 GADR A1,_dist
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,9
 INT 5
 PUSH A1
 POP A1
 POP A3
 MOVI A0,11
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 PUSH A1
 PUSH $00000000
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_$9
 PUSH A1
 POP A1
 JMP A1
_$6:
 MOV.D A1,A6
 SUB.D A1,44
 PUSH A1
 GADR A1,_cr
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,44
 PUSH A1
 POP A1
 PUSH (A1)
 GADR A1,_re
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 PUSH A1
 POP A1
 PUSH (A1)
 POP A4
 JRSR __itof
 GADR A1,_dist
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,9
 INT 5
 PUSH A1
 POP A1
 POP A3
 MOVI A0,11
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_zr
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,44
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_zi
 PUSH A1
 GADR A1,_ci
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_counter
 PUSH A1
 PUSH $00000040
 POP A1
 POP A2
 MOV.D (A2),A1
_$10:
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 GADR A1,_a
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,52
 PUSH A1
 GADR A1,_zr
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,56
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,52
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,56
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,56
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,9
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,60
 PUSH A1
 GADR A1,_b
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,64
 PUSH A1
 GADR A1,_zi
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,68
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,64
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,60
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,68
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,68
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,9
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,64
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $40000000
 MOV.D A1,A6
 SUB.D A1,56
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,9
 INT 5
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,68
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,9
 INT 5
 PUSH A1
 GADR A1,_ci
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,11
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,52
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 GADR A1,_cr
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,11
 INT 5
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,60
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A3
 POP A1
 XOR.D A3,$80000000
 MOVI A0,11
 INT 5
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,72
 PUSH A1
 GADR A1,_counter
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,72
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,72
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 PUSH $00000001
 POP A1
 POP A2
 SUB.D A2,A1
 PUSH A2
 POP A1
 POP A2
 MOV.D (A2),A1
_$11:
 GADR A1,_counter
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $00000001
 POP A1
 POP A2
 CMP.D A2,A1
 JRLE _$13
 PUSH $41000000
 GADR A1,_a
 PUSH A1
 POP A1
 PUSH (A1)
 GADR A1,_b
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A3
 MOVI A0,11
 INT 5
 PUSH A1
 POP A3
 POP A1
 MOVI A0,12
 INT 5
 CMPI A0,0
 JRG _$10
_$13:
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 GADR A1,_colr
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $00000041
 GADR A1,_counter
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 SUB.D A2,A1
 PUSH A2
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_lcolr
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 CMP.D A2,A1
 JRZ _$14
 PUSH $00000000
 POP A1
 MOV.D (A7),A1
 GADR A1,_colr
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 MOV.D -4(A7),A1
 GADR A1,_Screen
 PUSH A1
 POP A1
 MOVR.D (_argnum),2
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 GADR A1,_lcolr
 PUSH A1
 GADR A1,_colr
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
_$14:
 MOV.D A1,A6
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 MOV.D (A7),A1
 MOV.D A1,A6
 SUBI A1,4
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 MOV.D -4(A7),A1
 PUSH $00000001
 POP A1
 MOV.D -8(A7),A1
 GADR A1,_Plot
 PUSH A1
 POP A1
 MOVR.D (_argnum),3
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 MOV.D A1,A6
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 MOV.D (A7),A1
 GADR A1,_scrh
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUBI A1,4
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 SUB.D A2,A1
 PUSH A2
 POP A1
 MOV.D -4(A7),A1
 PUSH $00000001
 POP A1
 MOV.D -8(A7),A1
 GADR A1,_Plot
 PUSH A1
 POP A1
 MOVR.D (_argnum),3
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
_$7:
 MOV.D A1,A6
 PUSH A1
 MOV.D A1,A6
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $00000001
 POP A1
 POP A2
 ADD.D A1,A2
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
_$9:
 MOV.D A1,A6
 PUSH A1
 POP A1
 PUSH (A1)
 GADR A1,_scrw
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 CMP.D A2,A1
 JRL _$6
_$3:
 MOV.D A1,A6
 SUBI A1,4
 PUSH A1
 MOV.D A1,A6
 SUBI A1,4
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $00000001
 POP A1
 POP A2
 ADD.D A1,A2
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
_$5:
 MOV.D A1,A6
 SUB.D A1,44
 PUSH A1
 PUSH $00000001
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUBI A1,4
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,44
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 SLA.D A2,A1
 PUSH A2
 MOV.D A1,A6
 SUB.D A1,44
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 SUB.D A2,A1
 PUSH A2
 GADR A1,_scrh
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 CMP.D A2,A1
 JRL _$2
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 GADR A1,_Timer
 PUSH A1
 POP A1
 MOVR.D (_argnum),0
 MOVR.D (_argbs),A7
 JSR A1
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_tim2
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,48
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,52
 PUSH A1
 GADR A1,_tim1
 PUSH A1
 POP A1
 POP A2
 MOV.D (A2),A1
 MOV.D A1,A6
 SUB.D A1,52
 PUSH A1
 POP A1
 PUSH (A1)
 GADR A1,_tim2
 PUSH A1
 POP A1
 PUSH (A1)
 MOV.D A1,A6
 SUB.D A1,52
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 SUB.D A2,A1
 PUSH A2
 POP A1
 POP A2
 MOV.D (A2),A1
 PUSH $00000000
 POP A1
 MOV.D (A7),A1
 PUSH $0000001e
 POP A1
 MOV.D -4(A7),A1
 GADR A1,_Screen
 PUSH A1
 POP A1
 MOVR.D (_argnum),2
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 PUSH $00000015
 POP A1
 MOV.D (A7),A1
 PUSH $0000002e
 POP A1
 MOV.D -4(A7),A1
 GADR A1,_PosYX
 PUSH A1
 POP A1
 MOVR.D (_argnum),2
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 GADR A1,_$16
 PUSH A1
 POP A1
 MOV.D (A7),A1
 GADR A1,_tim1
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 MOV.D -4(A7),A1
 GADR A1,_printf
 PUSH A1
 POP A1
 MOVR.D (_argnum),2
 MOVR.D (_argbs),A7
 JSR A1
 ADD.D SP,4
 GADR A1,_$18
 PUSH A1
 POP A1
 JMP A1
_$17:
 MOV.D A1,A6
 SUB.D A1,56
 PUSH A1
 GADR A1,_Inkey
 PUSH A1
 POP A1
 MOVR.D (_argnum),0
 MOVR.D (_argbs),A7
 JSR A1
 POP A1
 POP A2
 MOV.D (A2),A1
 GADR A1,_key
 PUSH A1
 MOV.D A1,A6
 SUB.D A1,56
 PUSH A1
 POP A1
 PUSH (A1)
 POP A1
 POP A2
 MOV.D (A2),A1
_$18:
 GADR A1,_key
 PUSH A1
 POP A1
 PUSH (A1)
 PUSH $00000020
 POP A1
 POP A2
 CMP.D A2,A1
 JRNZ _$17
_$1:
_main_end:
 POP A4
 MOV SP,A7
 POP A7
 POP A6
 POP A5
 POP A1
 PUSH A4
 JMP A1
; bss Segment
_maxiter:
 DSW 4
_scrh:
 DSW 4
_scrw:
 DSW 4
_lcolr:
 DSW 4
_tim2:
 DSW 4
_tim1:
 DSW 4
_colr:
 DSW 4
_counter:
 DSW 4
_key:
 DSW 4
_b:
 DSW 4
_a:
 DSW 4
_zi:
 DSW 4
_zr:
 DSW 4
_cr:
 DSW 4
_ci:
 DSW 4
_im:
 DSW 4
_re:
 DSW 4
_dist:
 DSW 4
_aspect:
 DSW 4
; lit Segment
_$16:
 DB 37
 DB 100
 DB 0
__END: RET
