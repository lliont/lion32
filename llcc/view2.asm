export main
code
proc main 32 12
ADDRLP4 20
CNSTI4 0
ASGNI4
ADDRLP4 8
ADDRLP4 20
INDIRI4
ASGNI4
ADDRLP4 16
ADDRLP4 20
INDIRI4
ASGNI4
ADDRFP4 0
INDIRI4
ADDRLP4 20
INDIRI4
LEI4 $2
ADDRGP4 fn
ARGP4
ADDRFP4 4
INDIRP4
INDIRP4
ARGP4
CNSTI4 11
ARGI4
ADDRGP4 strncpy
CALLI4
pop
ADDRGP4 $4
ARGP4
ADDRGP4 fn
ARGP4
ADDRGP4 printf
CALLI4
pop
ADDRGP4 fn
ARGP4
ADDRGP4 $5
ARGP4
ADDRLP4 24
ADDRGP4 fopen
CALLI4
ASGNI4
ADDRLP4 16
ADDRLP4 24
INDIRI4
ASGNI4
LABELV $2
ADDRLP4 16
INDIRI4
CNSTI4 0
GTI4 $6
ADDRGP4 $8
ARGP4
ADDRGP4 fn
ARGP4
ADDRGP4 printf
CALLI4
pop
ADDRGP4 $7
JUMPV
LABELV $6
ADDRLP4 4
CNSTI4 1
ASGNI4
LABELV $9
ADDRLP4 16
INDIRI4
ARGI4
ADDRGP4 str
ARGP4
CNSTI4 512
ARGI4
ADDRLP4 24
ADDRGP4 read
CALLI4
ASGNI4
ADDRLP4 8
ADDRLP4 24
INDIRI4
ASGNI4
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $15
JUMPV
LABELV $12
ADDRLP4 0
INDIRI4
ADDRGP4 str
ADDP4
INDIRI1
CVII4 1
ARGI4
ADDRGP4 putchar
CALLI4
pop
ADDRLP4 0
INDIRI4
ADDRGP4 str
ADDP4
INDIRI1
CVII4 1
CNSTI4 10
NEI4 $16
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $16
ADDRLP4 4
INDIRI4
CNSTI4 22
MODI4
CNSTI4 0
NEI4 $18
ADDRLP4 28
ADDRGP4 getkey
CALLI4
ASGNI4
ADDRLP4 12
ADDRLP4 28
INDIRI4
CVII1 4
ASGNI1
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $18
LABELV $13
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $15
ADDRLP4 0
INDIRI4
ADDRLP4 8
INDIRI4
LTI4 $12
LABELV $10
ADDRLP4 8
INDIRI4
CNSTI4 512
NEI4 $20
ADDRLP4 12
INDIRI1
CVII4 1
CNSTI4 27
NEI4 $9
LABELV $20
ADDRGP4 $21
ARGP4
ADDRGP4 printf
CALLI4
pop
ADDRLP4 16
INDIRI4
ARGI4
ADDRGP4 fclose
CALLI4
pop
LABELV $7
LABELV $1
endproc main 32 12
import fclose
import getkey
import putchar
import read
import fopen
import printf
import strncpy
bss
export fn
align 1
LABELV fn
skip 12
export str
align 1
LABELV str
skip 513
lit
align 1
LABELV $21
byte 1 10
byte 1 0
align 1
LABELV $8
byte 1 32
byte 1 69
byte 1 114
byte 1 114
byte 1 111
byte 1 114
byte 1 32
byte 1 79
byte 1 112
byte 1 101
byte 1 110
byte 1 105
byte 1 110
byte 1 103
byte 1 32
byte 1 70
byte 1 105
byte 1 108
byte 1 101
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $5
byte 1 114
byte 1 0
align 1
LABELV $4
byte 1 10
byte 1 70
byte 1 105
byte 1 108
byte 1 101
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
